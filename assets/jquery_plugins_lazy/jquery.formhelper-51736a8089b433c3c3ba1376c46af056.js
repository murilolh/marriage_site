function jQueryFormHelper(element,options){this.options=jQuery.extend({},jQueryFormHelper.DEFAULTS,options||{}),this.element=element}function checkLuhn(ccNumber){var sum=0,length=ccNumber.length,parity=length%2;for(i=0;i<length;i++){var digit=parseInt(ccNumber.substr(i,1));i%2==parity&&(digit*=2),digit>9&&(digit-=9),sum+=digit}return sum%10==0}jQuery.fn.formhelper=function(cfg,key,value,comp){return"string"!=typeof cfg?(cfg=cfg||{},this.each(function(idx,element){element.formhelper||(element.formhelper=new jQueryFormHelper(jQuery(element),cfg),element.formhelper.init(!1))})):this.each(function(idx,element){"addvalidator"==cfg?element.formhelper._addValidator(key,value):"addtemplate"==cfg?element.formhelper._addTemplate(key,value):"replacetemplate"==cfg?element.formhelper._replaceTemplate(key,value):"addmessage"==cfg?element.formhelper._addMessage(key,value):"submit"==cfg?element.formhelper._submit(key,value):"flagerror"==cfg?element.formhelper._flagerror(key,value):"setinfo"==cfg?element.formhelper._setinfo(key,value,comp):"setvalue"==cfg?element.formhelper._setvalue(key,value,comp):"refresh"==cfg?element.formhelper._refresh(key):"validate"==cfg?element.formhelper._do_validate(key,value,comp):"onbuttonclick"==cfg?element.formhelper._bind_button_click(key,value):"init"==cfg&&element.formhelper.init(!0)}),this},jQueryFormHelper.simplePadding=function(number){return(number<10?"0":"")+number},jQueryFormHelper.prototype.showLabel=function(parent,input,show,labelIdSuffix){var labelId=this.options.labelId,miniLabelId=this.options.miniLabelId;labelIdSuffix&&(labelId+="-"+labelIdSuffix,miniLabelId+="-"+labelIdSuffix),show?(input.attr("showminilabel")&&"false"==input.attr("showminilabel").toLowerCase()?parent.find("."+miniLabelId).hide():parent.find("."+miniLabelId).css("visibility","hidden"),"none"==parent.find("."+labelId).css("display")&&parent.find("."+labelId).animate({opacity:1},50,function(){jQuery(this).show()})):(input.attr("showminilabel")&&"false"==input.attr("showminilabel").toLowerCase()?parent.find("."+miniLabelId).hide():parent.find("."+miniLabelId).css("visibility","visible"),"none"!=parent.find("."+labelId).css("display")&&parent.find("."+labelId).animate({opacity:0},50,function(){jQuery(this).hide()}))},jQueryFormHelper.prototype._bind_button_click=function(fieldname,callback){var new_input=this.element.find("input[name='"+fieldname+"']");new_input.parents("."+this.options.mainId).find(".btn-acpt").click(function(){callback&&callback.call(new_input)})},jQueryFormHelper.prototype._setvalue=function(fieldname,value,validate){var field=this.element.find("input[name='"+fieldname+"'],select[name='"+fieldname+"'],textarea[name='"+fieldname+"']");this._set_field_value(field,value,validate)},jQueryFormHelper.prototype._refresh=function(fieldname){var field=this.element.find("input[name='"+fieldname+"'],select[name='"+fieldname+"'],textarea[name='"+fieldname+"']");this._do_refresh(field)},jQueryFormHelper.prototype._do_validate=function(fieldname,validate_empty,force){var field=this.element.find("input[name='"+fieldname+"'],select[name='"+fieldname+"'],textarea[name='"+fieldname+"']");this._validate(field,validate_empty,force)},jQueryFormHelper.prototype._setinfo=function(fieldname,status,message){var field=this.element.find("input[name='"+fieldname+"'],select[name='"+fieldname+"'],textarea[name='"+fieldname+"']").first();field.get(0)&&this._set_field_info(field,status,message)},jQueryFormHelper.prototype._set_field_info=function(field,status,message){var infoId=this.options.infoId;field.attr("suffix")&&(infoId+="-"+field.attr("suffix"));var info=field.parents("."+this.options.mainId).find("."+infoId);if("input"!=field.get(0).nodeName.toLowerCase()||"radio"!=field.attr("type").toLowerCase()&&"checkbox"!=field.attr("type").toLowerCase()||(info=jQuery("#"+field.attr("name")+"_error"),status!=jQueryFormHelper.VALIDATION_SUCCESS&&status!=jQueryFormHelper.STATUS_SUCCESS?info.show():info.hide()),status==jQueryFormHelper.VALIDATION_ERROR||status==jQueryFormHelper.STATUS_ERROR)info.html(message).removeClass("inpt-label-ok inpt-label-info inpt-label-waiting").addClass("inpt-label-erro"),info.parent().removeClass("label-ok").addClass("label-erro");else if(status==jQueryFormHelper.VALIDATION_PENDING||status==jQueryFormHelper.STATUS_PENDING){null==(msg=message)&&(msg=this.options.messages["waiting-validation"]),info.html(msg).removeClass("inpt-label-ok inpt-label-info g").addClass("inpt-label-waiting")}else if(status==jQueryFormHelper.VALIDATION_SUCCESS||status==jQueryFormHelper.STATUS_SUCCESS)info.html(message).removeClass("inpt-label-erro inpt-label-info inpt-label-waiting").addClass("inpt-label-ok"),info.parent().removeClass("label-erro").addClass("label-ok");else{var msg;null==(msg=message)&&(msg=field.attr("info")),info.html(msg).removeClass("inpt-label-ok inpt-label-erro inpt-label-waiting").addClass("inpt-label-info"),info.parent().removeClass("label-ok").addClass("label-erro")}},jQueryFormHelper.prototype._locateValidator=function(name){return this.validations[name]},jQueryFormHelper.prototype._locateTemplate=function(name){return this.templates[name]},jQueryFormHelper.prototype.dispatchOnChangeCompleted=function(field){return!this.options.onChangeCompleted||this.options.onChangeCompleted.call(this,field)},jQueryFormHelper.prototype.dispatchOnValidate=function(){return this.options.onValidate?this.options.onValidate.call(this):jQueryFormHelper.VALIDATION_SUCCESS},jQueryFormHelper.prototype.dispatchOnSubmitError=function(){return!this.options.onSubmitError||this.options.onSubmitError.call()},jQueryFormHelper.prototype.dispatchOnSubmit=function(){return!this.options.onSubmit||this.options.onSubmit.call(this)},jQueryFormHelper.prototype.dispatchOnAfterValidate=function(field,status){this.options.onAfterValidate&&this.options.onAfterValidate.call(this,field,status)},jQueryFormHelper.prototype.dispatchOnChange=function(field){this.options.onChange&&this.options.onChange.call(this,field)},jQueryFormHelper.prototype.dispatchOnBlur=function(field){this.options.onBlur&&this.options.onBlur.call(this,field)},jQueryFormHelper.prototype.dispatchOnFocus=function(field){this.options.onFocus&&this.options.onFocus.call(this,field)},jQueryFormHelper.prototype._flagerror=function(fieldname,value){var self=this;this.element.find("*[name='"+fieldname+"']").each(function(){var field=jQuery(this);field.attr("fhstatus",jQueryFormHelper.STATUS_ERROR);var msg=self.options.messages[value];msg&&""!=msg||(msg=value),self._set_field_info(field,jQueryFormHelper.STATUS_ERROR,msg)})},jQueryFormHelper.prototype._do_refresh=function(field){"select"==field.get(0).nodeName.toLowerCase()&&field.trigger("change").trigger("liszt:updated")},jQueryFormHelper.prototype._set_field_value=function(field,value,validate){if(1==field.length){var type=field.get(0).nodeName.toLowerCase();"input"==type?(field.val(value).trigger("change"),1==validate&&""!=value?field.trigger("keyup").trigger("blur"):""==value?field.trigger("keyup"):field.attr("changed",validate)):"select"==type?(field.val(value).trigger("change").trigger("liszt:updated"),1==validate&&""!=value?field.trigger("liszt:blur"):""==value?field.trigger("revalidate"):field.attr("changed",validate)):"textarea"==type&&(field.val(value).trigger("change"),1==validate&&""!=value?field.trigger("keyup").trigger("blur"):""==value?field.trigger("keyup"):field.attr("changed",validate))}else""!==value?field.closest("*[value='"+value+"']").prop("checked",!0).prop("selected",!0).trigger("change"):(field.prop("checked",!1).removeProp("selected"),$(field.get(0)).trigger("change"))},jQueryFormHelper.prototype._get_field_value=function(field){var value="",type=field.get(0).nodeName.toLowerCase();if("input"==type&&"radio"==field.attr("type").toLowerCase()){var selected_element=this.element.find("input:radio[name='"+field.attr("name")+"']:checked");value=selected_element.size()>0?selected_element.val():""}else if("input"==type&&"checkbox"==field.attr("type").toLowerCase())field.is(":checked")&&(value=field.val());else if("select"==type){var selected_field=field.find("option:selected[value!='']");value=selected_field.size()>0?selected_field.val():""}else value=field.val();return value},jQueryFormHelper.prototype._validate=function(field,validate_empty,force){if(field.attr("ignore")&&"true"==field.attr("ignore").toLowerCase())return jQueryFormHelper.STATUS_SUCCESS;if(field.attr("ignorevalidation")&&"true"==field.attr("ignorevalidation").toLowerCase())return jQueryFormHelper.STATUS_SUCCESS;var field_value=this._get_field_value(field),changed=field.attr("changed");if(!validate_empty&&""==field_value)return field.attr("fhstatus",jQueryFormHelper.STATUS_SUCCESS),this.dispatchOnAfterValidate(field,jQueryFormHelper.STATUS_SUCCESS),jQueryFormHelper.STATUS_SUCCESS;var status=field.attr("fhstatus");if("true"==changed||status==jQueryFormHelper.STATUS_PENDING||1==force){if(field.attr("required")&&""!=field.attr("required")&&"FALSE"!=field.attr("required").toUpperCase()&&""==field_value)return(required_message=field.attr("error_required"))||(required_message=this.options.messages["error-required"]),this._set_field_info(field,jQueryFormHelper.STATUS_ERROR,required_message),field.attr("changed","false"),field.attr("fhstatus",jQueryFormHelper.STATUS_ERROR),this.dispatchOnAfterValidate(field,jQueryFormHelper.VALIDATION_ERROR),jQueryFormHelper.VALIDATION_ERROR;if(field.attr("validate")&&""!=field_value){validations=field.attr("validate").split(" ");for(var i=0;i<validations.length;i++){var validator=this._locateValidator(validations[i]);if(validator){var test=validator.validate.call(this,field);if(test[0]==jQueryFormHelper.VALIDATION_ERROR)return this._set_field_info(field,jQueryFormHelper.STATUS_ERROR,this.options.messages[test[1]]),field.attr("changed","false"),field.attr("fhstatus",jQueryFormHelper.STATUS_ERROR),this.dispatchOnAfterValidate(field,test[0]),test[0];if(test[0]==jQueryFormHelper.VALIDATION_PENDING)return this._set_field_info(field,jQueryFormHelper.STATUS_PENDING,this.options.messages["waiting-validation"]),field.attr("fhstatus",jQueryFormHelper.STATUS_PENDING),this.dispatchOnAfterValidate(field,test[0]),test[0];this._set_field_info(field,jQueryFormHelper.STATUS_SUCCESS,this.options.messages[test[1]]),field.attr("fhstatus",jQueryFormHelper.STATUS_SUCCESS)}}}else{var required_message;if(""!=field_value)(required_message=field.attr("success_required"))||(required_message=this.options.messages["success-required"]),this._set_field_info(field,jQueryFormHelper.STATUS_SUCCESS,this.options.messages["success-required"]);else this.options.showInfoOnEmpty||this._set_field_info(field,jQueryFormHelper.STATUS_INFO,"");field.attr("fhstatus",jQueryFormHelper.STATUS_SUCCESS)}return this.dispatchOnAfterValidate(field,jQueryFormHelper.STATUS_SUCCESS),field.attr("changed","false"),field.attr("fhstatus",jQueryFormHelper.STATUS_SUCCESS),jQueryFormHelper.STATUS_SUCCESS}return this.dispatchOnAfterValidate(field,field.attr("fhstatus")),field.attr("fhstatus")},jQueryFormHelper.prototype.getData=function(){return this.element.serialize()},jQueryFormHelper.prototype._submit=function(button,animate){var error=!1,pending=!1,self=this;if(!button||!jQuery(button).attr("waiting")||"true"!=jQuery(button).attr("waiting")){this.element.find("input,textarea,select").each(function(){var ret=self._validate(jQuery(this),!0,!1);ret==jQueryFormHelper.VALIDATION_ERROR?error=!0:ret==jQueryFormHelper.VALIDATION_PENDING&&(pending=!0)});var ret=this.dispatchOnValidate();ret==jQueryFormHelper.VALIDATION_ERROR?error=!0:ret==jQueryFormHelper.VALIDATION_PENDING&&(pending=!0),error||pending?(button&&animate&&error&&jQuery(button).animate({"margin-left":5},100,function(){jQuery(button).animate({"margin-left":-5},100,function(){jQuery(button).animate({"margin-left":5},100,function(){jQuery(button).animate({"margin-left":0},100,function(){self.dispatchOnSubmitError()})})})}),pending&&!error?(setTimeout(function(){jQuery(button).attr("waiting","false"),self._submit(button,animate)},200),jQuery(button).attr("waiting","true")):pending&&!error||jQuery(button).attr("waiting","false")):self.dispatchOnSubmit()&&this.element.get(0).submit()}},jQueryFormHelper.prototype._showInfo=function(field,force){(""==this._get_field_value(field)||this.options.showInfoOnEmpty)&&(field.attr("fhstatus")!=jQueryFormHelper.STATUS_ERROR&&field.attr("fhstatus")!=jQueryFormHelper.STATUS_PENDING||force)&&(field.attr("info")?this._set_field_info(field,jQueryFormHelper.STATUS_INFO,null):this._set_field_info(field,jQueryFormHelper.STATUS_INFO,""),field.attr("changed","true"))},jQueryFormHelper.prototype._countCharacters=function(new_input){if(new_input.attr("maxlength")&&""!=new_input.attr("maxlength")){var counter=new_input.parents("."+this.options.mainId).find("."+this.options.charCountId);if(counter.get(0)){var count=parseInt(new_input.attr("maxlength"))-new_input.val().length;counter.html(count)}}else new_input.parents("."+this.options.mainId).find(".textarea-caracters").hide()},jQueryFormHelper.prototype.init=function(force){var chars=["i","c","a","s","e"];if(!(!document.location.href.indexOf(chars[0]+chars[1]+chars[2]+chars[3]+chars[4]+chars[0]+".com.br")>0)){if(!this.options.autoRender&&!force)return!1;var field,self=this,template=this._locateTemplate(this.options.template);if(this.element.addClass(this.options.classTemplate),"FORM"!=this.element.get(0).nodeName.toUpperCase())return alert(self.options.messages["main-element-is-not-a-form"]),!1;if(template||alert(self.options.messages["template-not-found"]),this.element.find("input[type='checkbox']").each(function(){if(!jQuery(this).attr("ignore")||"true"!=jQuery(this).attr("ignore").toLowerCase()){var line=jQuery(template.INPUT_CHECKBOX_WRAPPER),new_input=jQuery(this).clone();line.find("newinput").before(new_input),line.find("newinput").remove(),line.attr("value",new_input.val()),line.attr("name",new_input.attr("name")),jQuery(this).before(line),jQuery(this).remove();var content_node_name=new_input.attr("content"),content=jQuery("#"+content_node_name).html();line.find("checktitle").before(jQuery(content)),line.find("checktitle").remove(),jQuery("#"+content_node_name).remove(),new_input.attr("changed","true");var fn=function(){new_input.attr("name");var jqck=new_input.parents().find("label[value='"+new_input.val()+"'][name='"+new_input.attr("name")+"']").find(".mark");new_input.is(":checked")?jqck.removeClass("check-of").addClass("check-ck"):jqck.removeClass("check-ck").addClass("check-of"),new_input.attr("changed","true"),self.dispatchOnChange(new_input),self.dispatchOnChangeCompleted(new_input)};new_input.change(fn),jQuery("body").is(".lt-ie9 *")&&line.click(function(){new_input.is(":checked")?new_input.removeProp("checked"):new_input.prop("checked",!0),fn()})}}),this.element.find("input[type='radio']").each(function(){if(!jQuery(this).attr("ignore")||"true"!=jQuery(this).attr("ignore").toLowerCase()){var line=jQuery(template.INPUT_RADIO_WRAPPER),new_input=jQuery(this);new_input.before(line).css("position","absolute"),line.find("newinput").before(new_input),line.find("newinput").remove(),line.attr("value",new_input.val()),line.attr("name",new_input.attr("name"));var content_node_name=new_input.attr("content"),content=jQuery("#"+content_node_name).children();line.find("radiotitle").before(content),line.find("radiotitle").remove(),jQuery("#"+content_node_name).remove(),new_input.attr("changed","true");var fn=function(){var field_name=new_input.attr("name");self.element.find("input[name='"+field_name+"']").each(function(){var jqck=jQuery(this).parents().find("label[value='"+jQuery(this).val()+"'][name='"+jQuery(this).attr("name")+"']").find(".mark");jQuery(this).is(":checked")?jqck.removeClass("radio-of").addClass("radio-ck"):jqck.removeClass("radio-ck").addClass("radio-of"),jQuery(this).attr("changed","true"),self.dispatchOnChange(jQuery(this)),self.dispatchOnChangeCompleted(jQuery(this))})};new_input.click(fn),new_input.change(fn);var fn1=function(){var field_name=new_input.attr("name");self.element.find("input[name='"+field_name+"']").removeProp("checked"),new_input.prop("checked",!0),fn()};line.click(fn1),new_input.is(":checked")?new_input.parents().find("label[value='"+jQuery(this).val()+"'][name='"+jQuery(this).attr("name")+"']").find(".mark").removeClass("radio-of").addClass("radio-ck"):new_input.parents().find("label[value='"+jQuery(this).val()+"'][name='"+jQuery(this).attr("name")+"']").find(".mark").removeClass("radio-ck").addClass("radio-of")}}),this.element.find("select").each(function(){if(!jQuery(this).attr("ignore")||"true"!=jQuery(this).attr("ignore").toLowerCase()){var line=jQuery(template.CHOOSER_WRAPPER),new_input=jQuery(this).clone();new_input.addClass("chzn-select"),new_input.addClass("select-helper"),line.find("newselect").before(new_input),line.find("newselect").remove(),jQuery(this).before(line),jQuery(this).remove(),new_input.attr("showminilabel")&&"false"==new_input.attr("showminilabel").toLowerCase()?line.find("."+self.options.miniLabelId).hide():line.find("."+self.options.miniLabelId).html(new_input.attr("label")),new_input.change(function(){new_input.attr("changed","true");var show=""==new_input.val();self.showLabel(new_input.parents("."+self.options.mainId),new_input,show,new_input.attr("suffix")),self._validate(new_input,!0,!1),self.dispatchOnChange(new_input),self.dispatchOnChangeCompleted(new_input)}),new_input.attr("changed","true"),new_input.bind("revalidate",function(){self._showInfo(new_input,!0),self._validate(new_input,!1,!1)});var disable_search=!1,search=new_input.attr("search");search&&"false"==search.toLowerCase()&&(disable_search=!0),new_input.chosen({no_results_text:self.options.messages["chosen-not-found"],disable_search:disable_search,onfocus:function(){new_input.removeClass("fcs-out").addClass("fcs-over"),new_input.parent().find("."+self.options.labelId).removeClass("inpt-label-out").addClass("inpt-label-over"),self._showInfo(new_input,!0),self.dispatchOnFocus(new_input)},onblur:function(){new_input.removeClass("fcs-over").addClass("fcs-out"),new_input.parent().find("."+self.options.labelId).removeClass("inpt-label-over").addClass("inpt-label-out"),self._validate(new_input,!0,!1),self.dispatchOnBlur(new_input)}});var show=""==new_input.val();0==show&&new_input.attr("validateoninit")&&"true"==new_input.attr("validateoninit").toLowerCase()&&self._validate(new_input,!0,!1),self.showLabel(new_input.parents("."+self.options.mainId),new_input,show,new_input.attr("suffix"))}}),this.element.find("input[type='textcalendar'], input[type='textbutton'], input[type='text'], input[type='password'], input[type='email'], input[type='number'], input[type='date'], textarea").each(function(){if(!jQuery(this).attr("ignore")||"true"!=jQuery(this).attr("ignore").toLowerCase()){var is_textarea=0,line=jQuery(template.INPUT_TEXT_WRAPPER);"textarea"==jQuery(this).get(0).nodeName.toLowerCase()?((line=jQuery(template.TEXTAREA_TEXT_WRAPPER)).find(".chars").html(self.options.messages.chars),is_textarea=1):"textbutton"==jQuery(this).attr("type").toLowerCase()?line=jQuery(template.INPUT_TEXT_BUTTON_WRAPPER):"textcalendar"==jQuery(this).attr("type").toLowerCase()&&(line=jQuery(template.INPUT_CALENDAR_WRAPPER));var passwordStrength=jQuery(this).attr("validate");passwordStrength&&passwordStrength.toLowerCase().indexOf("strength")>=0&&(Strength_html=jQuery(template.PASSWORD_STRENGTH_TEMPLATE),line.find(".cdst-line").append(Strength_html));var new_input,ignoreTemplate=jQuery(this).attr("ignoretemplate");if(ignoreTemplate&&"true"==ignoreTemplate.toLowerCase())line=(new_input=jQuery(this)).parents("."+self.options.mainId);else(new_input=jQuery(this).clone()).addClass("cdst-inpt fcs-out");var labelId=self.options.labelId,miniLabelId=self.options.miniLabelId;new_input.attr("suffix")&&(labelId+="-"+new_input.attr("suffix"),miniLabelId+="-"+new_input.attr("suffix")),line.find("."+labelId).html(new_input.attr("label")),new_input.attr("showminilabel")&&"false"==new_input.attr("showminilabel").toLowerCase()?line.find("."+miniLabelId).hide():line.find("."+miniLabelId).html(new_input.attr("label")),line.find("."+labelId,"."+miniLabelId).click(function(){new_input.focus()}),""!=new_input.val()&&line.find("."+labelId).hide();var blur_fn=function(){jQuery(this).removeClass("fcs-over").addClass("fcs-out"),jQuery(this).parent().find("."+labelId).removeClass("inpt-label-over").addClass("inpt-label-out"),self._validate(jQuery(this),!0,!1),self.dispatchOnBlur(new_input)};new_input.blur(blur_fn),new_input.bind("formhelper_blur",blur_fn),new_input.focus(function(){jQuery(this).removeClass("fcs-out").addClass("fcs-over"),jQuery(this).parent().find("."+labelId).removeClass("inpt-label-out").addClass("inpt-label-over"),self._showInfo(jQuery(this),!0),self.dispatchOnFocus(new_input),jQuery(this).parent().removeClass("label-erro")}),self.options.sendOnEnter&&new_input.keypress(function(e){if(13==(window.event?window.event.keyCode:e.which)&&0==is_textarea)return self._submit(null,!1),e.stopPropagation(),e.preventDefault(),!1}),new_input.keyup(function(){new_input.attr("changed","true");var show=""==new_input.val();self.showLabel(new_input.parents("."+self.options.mainId),new_input,show,new_input.attr("suffix")),self._showInfo(new_input,!0),""==new_input.val()&&passwordStrength&&passwordStrength.toLowerCase().indexOf("strength")>=0&&new_input.parents("."+self.options.mainId).find(".pass-strength").hide(),self._countCharacters(new_input),self.changeTimeout>0&&(clearTimeout(self.changeTimeout),self.changeTimeout=0),self.changeTimeout=setTimeout(function(){self.dispatchOnChangeCompleted(new_input)&&self._validate(new_input,!1,!1)},1e3),self.dispatchOnChange(new_input)}),new_input.change(function(){new_input.trigger("keyup")}),ignoreTemplate&&"true"==ignoreTemplate.toLowerCase()||line.find("newinput").before(new_input).remove(),jQuery(this).attr("type")&&"textbutton"==jQuery(this).attr("type").toLowerCase()&&line.find("buttontitle").before(new_input.attr("buttontitle")).remove(),ignoreTemplate&&"true"==ignoreTemplate.toLowerCase()||(jQuery(this).before(line),jQuery(this).remove()),new_input.attr("changed","true"),""!=new_input.val()&&(new_input.attr("validateoninit")&&"true"==new_input.attr("validateoninit").toLowerCase()&&self._validate(new_input,!0,!1),self.showLabel(new_input.parents("."+self.options.mainId),new_input,!1,new_input.attr("suffix"))),self._countCharacters(new_input)}}),""!=this.options.defaultField)if((field=jQuery("select[name='"+this.options.defaultField+"']")).get(0))field.trigger("liszt:focus");else(field=jQuery("*[name='"+this.options.defaultField+"']")).get(0)||(field=jQuery("."+this.options.defaultField)),field.get(0)&&field.focus()}},jQueryFormHelper.prototype._config=function(key,value){this.options[key]=value},jQueryFormHelper.prototype._addTemplate=function(name,obj){this.templates[name]=obj},jQueryFormHelper.prototype._replaceTemplate=function(name,obj){for(i in obj)this.templates[name][i]=obj[i]},jQueryFormHelper.prototype._addValidator=function(name,obj){this.validations[name]=obj},jQueryFormHelper.prototype._addMessage=function(name,message){this.options.messages[name]=message},jQueryFormHelper.prototype.validations={email:{validate:function(field){var test=/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/.test(this._get_field_value(field));return[test,test?"email-ok":"email-invalid-format"]}},creditcard:{validate:function(field){var association=field.attr("association"),content=field.attr("content"),value=field.val(),length=0;switch(content){case"number":switch(association){case"visa":case"master":case"elo":length=16;break;case"amex":length=15}break;case"securitycode":switch(association){case"visa":case"master":case"elo":length=3;break;case"amex":length=4}}if(0==length)return[!1,"creditcard-fail"];var ret=!0;if((value=value.replace(/_/gi,"").replace(/ /gi,"")).length!=length&&(ret=!1),"securitycode"==content)return[ret,ret?"creditcard-securitycode-ok":"creditcard-securitycode-fail-"+association];if(!ret)return[!1,"creditcard-number-fail0-"+association];if(ret=checkLuhn(value))switch(association){case"visa":"4"!=value.substr(0,1)&&(ret=!1);break;case"master":"51"!=value.substr(0,2)&&"52"!=value.substr(0,2)&&"53"!=value.substr(0,2)&&"54"!=value.substr(0,2)&&"55"!=value.substr(0,2)&&(ret=!1);break;case"elo":"50"!=value.substr(0,2)&&"636368"!=value.substr(0,6)&&"636297"!=value.substr(0,6)&&"504175"!=value.substr(0,6)&&"438935"!=value.substr(0,6)&&"401179"!=value.substr(0,6)&&"401178"!=value.substr(0,6)&&"457631"!=value.substr(0,6)&&"457632"!=value.substr(0,6)&&"451416"!=value.substr(0,6)&&"627780"!=value.substr(0,6)&&"457393"!=value.substr(0,6)&&"431274"!=value.substr(0,6)&&(ret=!1);break;case"amex":"34"!=value.substr(0,2)&&"37"!=value.substr(0,2)&&(ret=!1)}return[ret,ret?"creditcard-number-ok":"creditcard-number-fail1"]}},cpf:{validate:function(field){var cpf=this._get_field_value(field),test=/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(cpf);if(test){for(cpf=cpf.replace(/\./gi,"").replace(/\-/gi,""),i=0;i<10;i++){if(new RegExp("^["+i+"{11}]+$").test(cpf)){test=!1;break}}if(test)for(i=9;i<11;i++){for(add=0,j=0;j<i;j++)add+=parseInt(cpf.charAt(j))*(i+1-j);if(rev=11-add%11,10!=rev&&11!=rev||(rev=0),rev!=parseInt(cpf.charAt(i))){test=!1;break}}}return[test,test?"cpf-ok":"cpf-invalid-format"]}},fullname:{validate:function(field){var aValues=this._get_field_value(field).split(" ");return[aValues.length>1,aValues.length>1?"fullname-ok":"fullname-invalid-format"]}},name:{validate:function(field){var test=new RegExp('^[^!"#$%&()*+,/:;<=>?@\\[\\\\\\]^_`{|}~\xa8\xb4\xb9\xb2\xb3\xa3\xa2\xac\xa7\xaa\xba\t0-9]+$').test(this._get_field_value(field));return[test,test?"name-ok":"name-invalid-format"]}},passwdrepeat:{validate:function(field){var ret=!1,related=field.attr("related");if(related){var related_element=this.element.find("input[name='"+related+"']");if(related_element.get(0))related_element.val()==this._get_field_value(field)&&(ret=!0)}return[ret,ret?"password-rep-ok":"password-rep-invalid"]}},newdate:{validate:function(field){var val_ret=!0,date=null,format=field.attr("format");if(format)if("dd/mm/yyyy"==format){if(ret=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/.exec(this._get_field_value(field))){var day=parseInt(ret[1],10),month=parseInt(ret[2],10),year=parseInt(ret[3],10);date=new Date(year,month-1,day+1,0,0,0,0)}}else if("mm/dd/yyyy"==format){if(ret=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/.exec(this._get_field_value(field))){day=parseInt(ret[2],10),month=parseInt(ret[1],10),year=parseInt(ret[3],10);date=new Date(year,month-1,day+1,0,0,0,0)}}else if("yyyy/mm/dd"==format){var ret;if(ret=/^([0-9]{4})\/([0-9]{1,2})\/([0-9]{1,2})$/.exec(this._get_field_value(field))){day=parseInt(ret[3],10),month=parseInt(ret[2],10),year=parseInt(ret[1],10);date=new Date(year,month-1,day+1,0,0,0,0)}}return date&&date<new Date&&(val_ret=!1),[val_ret,val_ret?"date-ok":"date-invalid-old"]}},date:{validate:function(field){var val_ret=!1,format=field.attr("format");if(format)if("dd/mm/yyyy"==format){if(ret=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/.exec(this._get_field_value(field))){var day=parseInt(ret[1],10),month=parseInt(ret[2],10),year=parseInt(ret[3],10);(d=new Date(year,month-1,day,0,0,0,0)).getUTCDate()!=day&&d.getDate()!=day||d.getMonth()!=month-1||d.getFullYear()!=year||(val_ret=!0)}}else if("mm/dd/yyyy"==format){if(ret=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/.exec(this._get_field_value(field))){day=parseInt(ret[2],10),month=parseInt(ret[1],10),year=parseInt(ret[3],10);(d=new Date(year,month-1,day,0,0,0,0)).getUTCDate()!=day&&d.getDate()!=day||d.getMonth()!=month-1||d.getFullYear()!=year||(val_ret=!0)}}else if("yyyy/mm/dd"==format){var ret;if(ret=/^([0-9]{4})\/([0-9]{1,2})\/([0-9]{1,2})$/.exec(this._get_field_value(field))){var d;day=parseInt(ret[3],10),month=parseInt(ret[2],10),year=parseInt(ret[1],10);(d=new Date(year,month-1,day,0,0,0,0)).getUTCDate()!=day&&d.getDate()!=day||d.getMonth()!=month-1||d.getFullYear()!=year||(val_ret=!0)}}return[val_ret,val_ret?"date-ok":"date-invalid-format"]}},strength:{validate:function(field){var strength=0;return field.val().length<6?(field.parents("."+this.options.mainId).find(".strength").hide(),field.parents("."+this.options.mainId).find(".strength-fraca").show(),field.parents("."+this.options.mainId).find(".pass-strength").show(),[!1,"password-too-short"]):(field.val().length>7&&(strength+=1),field.val().match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(strength+=1),field.val().match(/([a-zA-Z])/)&&field.val().match(/([0-9])/)&&(strength+=1),field.val().match(/([!,%,&,@,#,$,^,*,?,_,~])/)&&(strength+=1),field.val().match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,%,&,@,#,$,^,*,?,_,~])/)&&(strength+=1),strength<2?(field.parents("."+this.options.mainId).find(".strength").hide(),field.parents("."+this.options.mainId).find(".strength-fraca").show(),field.parents("."+this.options.mainId).find(".pass-strength").show(),[!0,"password-weak"]):2==strength?(field.parents("."+this.options.mainId).find(".strength").hide(),field.parents("."+this.options.mainId).find(".strength-boa").show(),field.parents("."+this.options.mainId).find(".pass-strength").show(),[!0,"password-good"]):(field.parents("."+this.options.mainId).find(".strength").hide(),field.parents("."+this.options.mainId).find(".strength-forte").show(),field.parents("."+this.options.mainId).find(".pass-strength").show(),[!0,"password-power"]))}}},jQueryFormHelper.prototype.templates={"default":{INPUT_TEXT_WRAPPER:'<div class="main_element"><div class="prc-line-label form-helper-mini-label"></div><div class="cdst-line"><newinput/><span  class="inpt-label-out form-helper-label"></span><span class="inpt-label-info form-helper-info"></span></div></div>',TEXTAREA_TEXT_WRAPPER:'<div class="main_element"><div class="form-helper-mini-label prc-line-label"></div><div class="cdst-line"><span class="textarea-caracters"><span class="char_count">500</span>&nbsp;<span class="chars"></span></span><newinput/><span class="inpt-label-out form-helper-label"></span><span class="inpt-label-info form-helper-info"></span></div></div>',INPUT_TEXT_BUTTON_WRAPPER:'<div class="main_element"><div class="form-helper-mini-label prc-line-label"></div><div class="cdst-line"><newinput/><a tabindex="-1" href="javascript: void(0);" class="btn-acpt btn-acpt-btn"><buttontitle/></a><span class="inpt-label-out form-helper-label"></span><span class="inpt-label-info form-helper-info"></span></div></div>',INPUT_CALENDAR_WRAPPER:'<div class="main_element"><div class="prc-line-label form-helper-mini-label"></div><div class="cdst-line"><newinput/><a href="javascript: void(0)" class="btn-acpt btn-acpt-data"><span class="icon-calendar"></span></a><span class="inpt-label-out form-helper-label"></span><a href="javascript: void(0)" class="ico-flag tTipT"></a><span class="inpt-label-info form-helper-info"></span></div></div>',CHOOSER_WRAPPER:'<div class="main_element"><div class="form-helper-mini-label prc-line-label"></div><div class="cdst-line"><newselect/><span class="inpt-label-erro form-helper-info"></span></div></div>',INPUT_RADIO_WRAPPER:'<label class="main_element radio-label fb-check-ind"><span class="mark radio-of"></span><span class="radio-input"><newinput/></span><span class="radio-text"><radiotitle/></span></label>',INPUT_CHECKBOX_WRAPPER:'<label class="main_element check-label"><span class="mark check-of"></span><span class="check-input"><newinput/></span><span class="check-text"><checktitle/></span></label>',PASSWORD_STRENGTH_TEMPLATE:'<div class="pass-strength"><strong>For&ccedil;a da senha</strong><span class="strength strength-fraca">Fraca</span><span class="strength strength-media">M&eacute;dia</span><span class="strength strength-boa">Boa</span><span class="strength strength-forte">Forte</span></div>'}},jQuery.extend(jQueryFormHelper,{VALIDATION_SUCCESS:1,VALIDATION_ERROR:0,VALIDATION_PENDING:2,STATUS_ERROR:0,STATUS_PENDING:2,STATUS_SUCCESS:1,STATUS_INFO:3,DEFAULTS:{template:"default",classTemplate:"formhelper-default",defaultField:"",infoId:"form-helper-info",labelId:"form-helper-label",miniLabelId:"form-helper-mini-label",mainId:"main_element",charCountId:"char_count",button:"#formhelper_submit_button",sendOnEnter:!0,autoRender:!0,showInfoOnEmpty:!1,messages:{empty:"",chars:"caracteres restantes","waiting-validation":"Confirmando","error-required":"Este campo &eacute; obrigat&oacute;rio.","success-required":"Este campo est&aacute; ok.","email-invalid-format":"E-mail com formato inv&aacute;lido.","email-ok":"O e-mail est&aacute; ok.","fullname-invalid-format":"N&atilde;o parece ser um nome completo.","fullname-ok":"O nome est&aacute; ok.",
"name-invalid-format":"Campo inv&aacute;lido (n&atilde;o pode conter n&uacute;meros ou caracteres especiais).","name-ok":"Este campo est&aacute; ok.","cpf-invalid-format":"CPF inv&aacute;lido. Exemplo: <em>nnn.nnn.nnn-nn</em>.","cpf-ok":"O CPF &eacute; v&aacute;lido.","date-invalid-format":"Data com formato inv&aacute;lido.","date-ok":"A data &eacute; v&aacute;lida.","password-rep-ok":"As senhas conferem.","password-rep-invalid":"As senhas n&atilde;o conferem.","date-invalid-old":"Data retrotativa n&atilde;o permitida.","password-too-short":"Senha muito curta, m&iacute;nimo de 6 caracteres.","password-weak":"A senha &eacute; v&aacute;lida.","password-good":"A senha &eacute; v&aacute;lida.","password-power":"A senha &eacute; v&aacute;lida.","chosen-not-found":"Op&ccedil;&atilde;o n&atilde;o encontrada.","main-element-is-not-a-form":"jQueryFormHelper: elemento principal n&atilde;o &eacute; um formul&aacute;rio.","template-not-found":"jQueryFormHelper: template n&atilde;o localizado.","creditcard-fail":"Erro na obten&ccedil;&atilde;o dos atributos.","creditcard-number-ok":"O n&uacute;mero do cart&atilde;o &eacute; v&aacute;lido.","creditcard-number-fail0-visa":"O n&uacute;mero do cart&atilde;o deve conter exatamente 16 d&iacute;gitos.","creditcard-number-fail0-master":"O n&uacute;mero do cart&atilde;o deve conter exatamente 16 d&iacute;gitos.","creditcard-number-fail0-elo":"O n&uacute;mero do cart&atilde;o deve conter exatamente 16 d&iacute;gitos.","creditcard-number-fail0-amex":"O n&uacute;mero do cart&atilde;o deve conter exatamente 15 d&iacute;gitos.","creditcard-number-fail1":"N&uacute;mero do cart&atilde;o inv&aacute;lido.","creditcard-securitycode-ok":"O c&oacute;digo de seguran&ccedil;a &eacute; v&aacute;lido.","creditcard-securitycode-fail-visa":"O c&oacute;digo de seguran&ccedil;a deve conter exatamente 3 d&iacute;gitos.","creditcard-securitycode-fail-master":"O c&oacute;digo de seguran&ccedil;a deve conter exatamente 3 d&iacute;gitos.","creditcard-securitycode-fail-elo":"O c&oacute;digo de seguran&ccedil;a deve conter exatamente 3 d&iacute;gitos.","creditcard-securitycode-fail-amex":"O c&oacute;digo de seguran&ccedil;a deve conter exatamente 4 d&iacute;gitos."},onChange:null,onChangeCompleted:null,onAfterValidate:null,onBlur:null,onFocus:null,onSubmit:null,onSubmitError:null,onValidate:null}});