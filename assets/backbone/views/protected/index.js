var ProtectedView=null;!function($){ProtectedView=BaseBackboneView.extend({events:{"click #button":"check","submit #form1":"check"},check:function(){var obj={password:$("#protected_lock").val()},params=$.param(obj),root=$("meta[name='root']").attr("content");return jQuery.ajax({url:root+"/protected/login",data:params,dataType:"json",type:"POST",success:function(data_ret){if(1==data_ret.code){var url=unescape(data_ret.goto_url);url||(url=root+"/index"),window.location.href=url}else Boxy.alert(I18n.t("protected.error.password"),null,{title:I18n.t("layout.boxy.error_title"),closeText:I18n.t("layout.boxy.close")})},error:function(){Boxy.alert(I18n.t("protected.error.error"),null,{title:I18n.t("layout.boxy.error_title"),closeText:I18n.t("layout.boxy.close")})}}),!1},initialize:function(){this.constructor.__super__.initialize.call(this);var self=this;this.adopted=!0;var item=$("#template-protected");item.get(0)?(this.setElement(item),self.options.onload&&self.options.onload.call(self)):(this.adopted=!1,render_template("template_protected_id","/templates/backbone/"+this.options.noivos.get("id_noivo")+"/protected/"+this.options.noivos.get("template_html_version")+"/index",{noivos:this.options.noivos.attributes},function(ret){self.setElement(ret),self.options.onload&&self.options.onload.call(self)}))},render:function(){return this}})}(jQuery);