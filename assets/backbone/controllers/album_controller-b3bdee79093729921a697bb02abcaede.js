var AlbumController=null;jQuery,AlbumController=Backbone.Router.extend({routes:{":login/album/show/:id.html":"load",":login/album/show/:id/:page.html":"load",":login/:lang/album/show/:id.html":"loadLang",":login/:lang/album/show/:id/:page.html":"loadLang","album/show/:id":"loadAlbum","album/show/:id/:page":"loadAlbum",":login/album/show/:id":"load",":login/album/show/:id/:page":"load","album/:lang/show/:id":"loadAlbumLang","album/:lang/show/:id/:page":"loadAlbumLang",":login/:lang/album/show/:id":"loadLang",":login/:lang/album/show/:id/:page":"loadLang"},load:function(login,id,page){this.loadAlbum(id,page,login)},loadLang:function(login,lang,id,page){this.loadAlbum(id,page,login)},loadAlbumLang:function(lang,id){this.loadAlbum(id)},loadAlbum:function(id,page,login){load_noivos(login,function(success){if(success){var noivos=this,template_album=new TemplateAlbum;template_album.fetch({cache:!1,data:{id_noivo:parseInt(noivos.get("id_noivo")),id:parseInt(id),page:parseInt(page)},success:function(){"v2"==noivos.get("template_html_version")?backboneObjects.album_view=new AlbumViewV2({noivos:noivos,photos:template_album,onload:function(){var self=this;if(0==this.adopted){var element=this.$el;change_content(element,function(){App.current_view=self,self.render()},{template:"front",noivos:noivos})}else App.current_view=self,this.render()}}):backboneObjects.album_view=new AlbumView({noivos:noivos,photos:template_album,onload:function(){var self=this;if(0==this.adopted){var element=this.$el;change_content(element,function(){App.current_view=self,self.render()},{template:"front",noivos:noivos})}else App.current_view=self,this.render()}})},error:function(e,xhr){backbone_proccess_error(xhr)}})}else Boxy.alert("Erro ao carregar noivos.",function(){},{title:"ERRO",closeText:"[Fechar]"})})}}),backboneObjects.album_controller=new AlbumController;