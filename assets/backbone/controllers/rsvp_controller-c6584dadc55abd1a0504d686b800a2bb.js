var RsvpController=null;jQuery,RsvpController=Backbone.Router.extend({routes:{rsvp:"load",":login/rsvp":"load",":lang/rsvp":"load",":login/:lang/rsvp":"load",":login/rsvp.html":"load",":login/:lang/rsvp.html":"load"},load:function(login){load_noivos(login,function(success){if(success){var noivos=this,template_rsvp_config=new TemplateRsvpConfig,menu_noivo=new MenuNoivo,rsvpLoaded=!1,menuLoaded=!1,fn=function(){rsvpLoaded&&menuLoaded&&("v2"==noivos.get("template_html_version")?backboneObjects.rsvp_view=new RsvpViewV2({noivos:noivos,rsvp_config:template_rsvp_config,pagina:menu_noivo,onload:function(){var self=this;if(0==this.adopted){var element=this.$el;change_content(element,function(){App.current_view=self,self.render()},{template:"front",noivos:noivos})}else App.current_view=self,self.render()}}):backboneObjects.rsvp_view=new RsvpView({noivos:noivos,rsvp_config:template_rsvp_config,pagina:menu_noivo,onload:function(){var self=this;if(0==this.adopted){var element=this.$el;change_content(element,function(){App.current_view=self,self.render()},{template:"front",noivos:noivos})}else App.current_view=self,self.render()}}))};template_rsvp_config.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo")},success:function(){rsvpLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),menu_noivo.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo"),id_recurso:11},success:function(){menuLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}})}else Boxy.alert("Erro ao carregar noivos.",function(){},{title:"ERRO",closeText:"[Fechar]"})})}}),backboneObjects.rsvp_controller=new RsvpController;