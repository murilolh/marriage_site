var HomeController=null;jQuery,HomeController=Backbone.Router.extend({routes:{":login/home":"load",":login/home/index":"load",home:"load",":login/:lang/home":"load",":login/:lang/home/index":"load",":lang/home":"load",":login/home":"load",":login/:lang/home":"load"},load:function(login){load_noivos(login,function(success){if(success){var noivos=this,template_home=new TemplateHome,template_imagens_home=new TemplateImagemHome,template_enquete=new TemplateEnquete,ultimas_fotos=new UltimasFotos,template_rsvp=new MenuNoivo,menu_noivo_atual=new MenuNoivo,msg_pagina=new MenuNoivo,template_msgs_noivo=new TemplateMsgsNoivo,homeLoaded=!1,imagesLoaded=!1,enquetesLoaded=!1,ultimasFotosLoaded=!1,templateRsvpLoaded=!1,menuNoivoLoaded=!1,msgPaginaLoaded=!1,msgMessagesLoaded=!1,fn=function(){homeLoaded&&imagesLoaded&&enquetesLoaded&&ultimasFotosLoaded&&templateRsvpLoaded&&menuNoivoLoaded&&msgPaginaLoaded&&msgMessagesLoaded&&("v2"==noivos.get("template_html_version")?backboneObjects.home_view=new HomeViewV2({noivos:noivos,imagens:template_imagens_home,home:template_home,enquete:template_enquete,ultimas_fotos:ultimas_fotos,template_rsvp:template_rsvp,pagina:menu_noivo_atual,msg_pagina:msg_pagina,msg_messages:template_msgs_noivo,onload:function(){var self=this;if(0==this.adopted){var element=this.$el;change_content(element,function(){App.current_view=self,self.render()},{template:"front",noivos:noivos})}else App.current_view=self,this.render()}}):backboneObjects.home_view=new HomeView({noivos:noivos,imagens:template_imagens_home,home:template_home,enquete:template_enquete,pagina:menu_noivo_atual,msg_pagina:msg_pagina,msg_messages:template_msgs_noivo,onload:function(){var self=this;if(0==this.adopted){var element=this.$el;change_content(element,function(){App.current_view=self,self.render()},{template:"front",noivos:noivos})}else App.current_view=self,this.render()}}))};template_home.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo")},success:function(){homeLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),template_imagens_home.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo")},success:function(){imagesLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),template_enquete.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo")},success:function(){enquetesLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),ultimas_fotos.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo"),max:8},success:function(){ultimasFotosLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),template_rsvp.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo"),id_recurso:11},success:function(){templateRsvpLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),menu_noivo_atual.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo"),id_recurso:6},success:function(){menuNoivoLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),msg_pagina.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo"),id_recurso:13},success:function(){msgPaginaLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),template_msgs_noivo.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo")},success:function(){msgMessagesLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}})}else Boxy.alert("Erro ao carregar noivos.",function(){},{title:"ERRO",closeText:"[Fechar]"})})}}),backboneObjects.home_controller=new HomeController;