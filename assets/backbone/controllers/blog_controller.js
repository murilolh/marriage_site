var BlogController=null;jQuery,BlogController=Backbone.Router.extend({routes:{":login/blog.html":"load",":login/:lang/blog.html":"loadLang",blog:"loadBlog","blog/:page":"loadBlog",":login/blog":"load",":login/blog/:page":"load",":lang/blog":"loadBlogLang",":lang/blog/:page":"loadBlogLang",":login/:lang/blog":"loadLang",":login/:lang/blog/:page":"loadLang"},load:function(login,page){this.loadBlog(page,login)},loadLang:function(login,lang,page){this.loadBlog(page,login)},loadBlogLang:function(lang,page){this.loadBlog(page)},loadBlog:function(page,login){page||(page="1"),load_noivos(login,function(success){if(success){var noivos=this,template_blog_post=new TemplateBlogPost,menu_noivo=new MenuNoivo,captcha=new Captcha,blogLoaded=!1,menuLoaded=!1,captchaLoaded=!1,fn=function(){blogLoaded&&menuLoaded&&captchaLoaded&&("v2"==noivos.get("template_html_version")?backboneObjects.blog_view=new BlogViewV2({noivos:noivos,entries:template_blog_post,pagina:menu_noivo,captcha:captcha,onload:function(){var self=this;if(0==this.adopted){var element=this.$el;change_content(element,function(){App.current_view=self,self.render()},{template:"front",noivos:noivos})}else App.current_view=self,this.render()}}):backboneObjects.blog_view=new BlogView({noivos:noivos,entries:template_blog_post,pagina:menu_noivo,captcha:captcha,onload:function(){var self=this;if(0==this.adopted){var element=this.$el;change_content(element,function(){App.current_view=self,self.render()},{template:"front",noivos:noivos})}else App.current_view=self,this.render()}}))};template_blog_post.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo"),page:page},success:function(){blogLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),menu_noivo.fetch({cache:!1,data:{id_noivo:noivos.get("id_noivo"),id_recurso:22},success:function(){menuLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}}),captcha.fetch({cache:!1,data:{object:"comment"},success:function(){captchaLoaded=!0,fn.call(this)},error:function(e,xhr){backbone_proccess_error(xhr)}})}else Boxy.alert("Erro ao carregar noivos.",function(){},{title:"ERRO",closeText:"[Fechar]"})})}}),backboneObjects.blog_controller=new BlogController;